<div class="services-dropdown">
    <div class="services-grid">
        <!-- Left Column: Featured Products -->
        <!-- Left Column: Carousel -->
        <div class="sidebar-section h-full">
            <h3 class="section-title">Destacados</h3>
            
            <div class="carousel-container relative w-full h-full min-h-[300px] rounded-2xl overflow-hidden group"
                 (mouseenter)="stopAutoPlay()" 
                 (mouseleave)="startAutoPlay()">
                <!-- Slides -->
                <div class="slides-wrapper relative w-full h-full">
                    <ng-container *ngFor="let item of carouselItems; let i = index">
                        <div class="slide absolute inset-0 transition-opacity duration-500 ease-in-out"
                             [class.opacity-100]="i === currentIndex"
                             [class.opacity-0]="i !== currentIndex"
                             [class.z-10]="i === currentIndex"
                             [class.pointer-events-none]="i !== currentIndex">
                             
                            <!-- Background Image -->
                            <img [src]="item.img" [alt]="item.name" class="w-full h-full object-cover">
                            
                            <!-- Overlay Gradient -->
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
                            
                            <!-- Content -->
                            <div class="absolute bottom-0 left-0 p-6 w-full text-white">
                                <h4 class="text-xl font-bold mb-2">{{ item.name }}</h4>
                                <!-- External Link -->
                                <a *ngIf="item.url.startsWith('http')" [href]="item.url" target="_blank" class="inline-flex items-center gap-2 text-sm font-medium text-yellow-400 hover:text-yellow-300 transition-colors">
                                    Ver más
                                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                    </svg>
                                </a>
                                <!-- Internal Link -->
                                <a *ngIf="!item.url.startsWith('http')" [routerLink]="item.url" class="inline-flex items-center gap-2 text-sm font-medium text-yellow-400 hover:text-yellow-300 transition-colors cursor-pointer">
                                    Ver más
                                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </ng-container>
                </div>

                <!-- Navigation Controls -->
                <button (click)="prevSlide()" class="absolute top-1/2 left-2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity z-20">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                
                <button (click)="nextSlide()" class="absolute top-1/2 right-2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity z-20">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>

                <!-- Dots -->
                <div class="absolute bottom-4 right-4 flex gap-1 z-20">
                    <button *ngFor="let item of carouselItems; let i = index" 
                            (click)="goToSlide(i)"
                            class="w-2 h-2 rounded-full transition-all duration-300"
                            [ngClass]="i === currentIndex ? 'bg-yellow-400 w-4' : 'bg-white/50 hover:bg-white'">
                    </button>
                </div>
            </div>
        </div>

        <!-- Right Column: Categories -->
        <div class="categories-section">
            <!-- Marketing Column -->
            <div class="category-column">
                <h3 class="section-title">Marketing</h3>
                
                <a [routerLink]="['/services', 'branding']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/></svg>
                    </div>
                    <div class="service-info">
                        <h4>Branding & Strategy</h4>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>

                <a [routerLink]="['/services', 'social-media']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/></svg>
                    </div>
                    <div class="service-info">
                        <h4>Impulso de Redes Sociales</h4>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>

                <a [routerLink]="['/services', 'seo']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                    </div>
                    <div class="service-info">
                        <h4>SEO</h4>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>

                <a [routerLink]="['/services', 'audiovisual']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
                    </div>
                    <div class="service-info">
                        <h4>Producción Audiovisual</h4>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>

                <a [routerLink]="['/services', 'marketing-campaigns']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
                    </div>
                    <div class="service-info">
                        <h4>Campañas de Marketing</h4>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>
            </div>

            <!-- Software Column -->
            <div class="category-column">
                <h3 class="section-title">Software</h3>

                <a [routerLink]="['/services', 'web-apps']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                    </div>
                    <div class="service-info">
                        <h4>Desarrollo de Web Apps</h4>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>

                <a [routerLink]="['/services', 'mobile-apps']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/></svg>
                    </div>
                    <div class="service-info">
                        <h4>Desarrollo de Apps</h4>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>

                <a [routerLink]="['/services', 'crm']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
                    </div>
                    <div class="service-info">
                        <div class="flex items-center gap-2">
                            <h4>Sistema de Gestión de CRM</h4>
                            <span class="badge-new">Nuevo</span>
                        </div>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>

                <a [routerLink]="['/services', 'ai-integration']" class="service-item cursor-pointer">
                    <div class="service-icon">
                        <svg viewBox="0 0 24 24" fill="none" class="w-6 h-6" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/></svg>
                    </div>
                    <div class="service-info">
                         <div class="flex items-center gap-2">
                            <h4>Integración de IA</h4>
                            <span class="badge-new">Nuevo</span>
                        </div>
                        <p>A diferencia de un sitio web dinamico, estas funcionan para que el usuario realice tareas</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
